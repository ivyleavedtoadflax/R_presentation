<!DOCTYPE html>
<html>
<head>
  <title>A (very) brief introduction to R</title>
  <meta charset="utf-8">
  <meta name="description" content="A (very) brief introduction to R">
  <meta name="author" content="Matthew Upson PhD">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>A (very) brief introduction to R</h1>
    <h2>June 21 2016</h2>
    <p>Matthew Upson PhD<br/>Data Scientist (ESEDD)</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>

em {
  font-style: italic;
}

strong {
  font-weight: bold;
}

</style>

<h2>Before we start...</h2>

<ul>
<li><p>I can&#39;t teach you much in an hour...</p></li>
<li><p>This session focusses on:</p>

<ul>
<li>Some high level advice you might not hear elsewhere.</li>
<li>A very simple walthrough</li>
<li>Some advice for the future and where to get help</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Why R?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>R is free (<a href="https://en.wikipedia.org/wiki/Gratis_versus_libre#.22Free_beer.22_vs_.22free_speech.22_distinction">&quot;free&quot; as in &quot;free speech&quot;, not as in &quot;free beer&quot;</a>).</li>
<li>Growing popularity (part of SQL server 2016).</li>
<li>Can talk to Hadoop and Spark (two very popular &#39;big data&#39; technologies).</li>
<li>Supported by an enormous and active community.</li>
</ul>

<pre><code class="r"># CRAN &#39;vetted&#39; package
install.packages(&quot;dplyr&quot;)
library(dplyr)

# Packages on github
devtools::install_github(&quot;ivyleavedtoadflax/govstyle&quot;)
# or in DfE: download the zip
devtools::install_local(&quot;C://govstyle-master.zip&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-3" style="background:;">
  <hgroup>
    <h2>Getting started on a project</h2>
  </hgroup>
  <article data-timings="">
    <p>(Some important things you may have never thought about)</p>

<ul>
<li>Setting up</li>
<li>Dependency control</li>
<li>Making it clear and reproducible</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Setting up a project</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Use RStudio projects instead.</p>

<ul>
<li>Avoids use of <code>setwd()</code> - required for advanced functionality.</li>
<li>File &gt; New Project...</li>
</ul>

<p><img src="assets/img/rstudio_project.png" style="display: block; margin-left: auto; margin-right: auto; border-width: 1px; border-colour: #000000;border-style: solid;"></p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Dependency control</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>R is constantly under development (as are packages).</li>
<li>Changes to packages <strong>can</strong> break your code.</li>
<li><strong>Avoid dependency hell</strong> with a little planning.</li>
</ul>

<p>The simplest way: record system info for each project.</p>

<pre><code class="r">.libPaths()
</code></pre>

<pre><code>## [1] &quot;/home/matthew/R/x86_64-pc-linux-gnu-library/3.3&quot;
## [2] &quot;/usr/local/lib/R/site-library&quot;                  
## [3] &quot;/usr/lib/R/site-library&quot;                        
## [4] &quot;/usr/lib/R/library&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Dependency control</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># Which exact packages are used?
sessionInfo()
</code></pre>

<pre><code>## R version 3.3.0 (2016-05-03)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 14.04.4 LTS
## 
## locale:
##  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
##  [5] LC_MONETARY=en_GB.UTF-8    LC_MESSAGES=en_GB.UTF-8   
##  [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] dplyr_0.4.3
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_0.12.5      codetools_0.2-14 digest_0.6.9     assertthat_0.1  
##  [5] R6_2.1.2         DBI_0.4-1        formatR_1.4      magrittr_1.5    
##  [9] evaluate_0.9     stringi_1.1.1    whisker_0.3-2    tools_3.3.0     
## [13] stringr_1.0.0    markdown_0.7.7   yaml_2.1.13      parallel_3.3.0  
## [17] slidify_0.5      knitr_1.13.1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Dependency control</h2>
  </hgroup>
  <article data-timings="">
    <p>A better system for handling dependencies (in most cases).</p>

<pre><code class="r"># Install and load the checkpoint library

install.packages(&quot;checkpoint&quot;)
library(checkpoint)

# Set a checkpoint for the project

checkpoint(&quot;2016-05-22&quot;, use.knitr = TRUE)

# Subsequently, you can load this snapshot with:

setSnapshot(&quot;2016-05-22&quot;)
</code></pre>

<p>Some packages will need to be installed manually. Watch your disk space!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Reproducibility and Clarity</h2>
  </hgroup>
  <article data-timings="">
    <p><strong>The Past is a foreign country, they do things differently there</strong></p>

<ul>
<li>Code is for People (Not Computers).</li>
</ul>

<pre><code class="r">hard_to_read &lt;- function(x) ifelse(x == 0, NA, x)
</code></pre>

<ul>
<li>Make things readable</li>
<li><code># Comment liberally</code></li>
</ul>

<pre><code class="r"># Function to replace zero values with NA

better &lt;- function(x) {

  ifelse(x == 0, NA, x)

}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Reproducibility and Clarity</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Be explicit (at least to begin with).</li>
</ul>

<pre><code class="r"># Function to replace zero values with NA

best &lt;- function(x) {

  ifelse(
    test = (x == 0), 
    yes = NA, 
    no = x)

}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Reproducibility and Clarity</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Reproducible formats:

<ul>
<li>Combine code with narrative in one document.</li>
<li>Able to handle increasingly complex documents.</li>
<li>Output to html, word, pdf (maybe).</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-11" style="background:;">
  <hgroup>
    <h2>Walking through a project</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The RStudio environment</li>
<li>Getting the data in</li>
<li>Manipulating data</li>
<li>Producing an output</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>The RStudio environment</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/RStudio.png" style="display: block; height: 550px;"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>The RStudio environment</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># Assign an object to the name foo

foo &lt;- rnorm(100)

# See which objects are in my environment

ls()
</code></pre>

<pre><code>## [1] &quot;encoding&quot;  &quot;foo&quot;       &quot;inputFile&quot;
</code></pre>

<ul>
<li>Beware masking other objects.</li>
<li><code>filter()</code> exists in package <strong>stats</strong> (loaded by default) and <strong>dplyr</strong> which you must load manually.</li>
<li>Use <code>dplyr::filter()</code> to explicitly call the one of interest.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Getting data in</h2>
  </hgroup>
  <article data-timings="">
    <p>Data can come from pretty much anywhere:</p>

<ul>
<li>Databases.</li>
<li>Flat files.</li>
<li>The internet.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Getting data in</h2>
  </hgroup>
  <article data-timings="">
    <h3>Getting data from SQL server:</h3>

<p><a href="http://statistical-research.com/wp-content/uploads/2012/09/database-connect.pdf">Set up data connect in windows</a>.</p>

<pre><code class="r"># Install and load RODBC
install.packages(&quot;RODBC&quot;)
library(RODBC)

# Set up a connection to the server
conn &lt;- odbcDriverConnect()

# Get list of tables
sqlTables(conn)

# Execute query

sqlQuery(conn, &quot;SELECT top 100 * FROM TABLE&quot;)
</code></pre>

<h3>Getting data from SQL server:</h3>

<p>For longer queries: better to keep the files in a separate .sql file, and load them into R as required.</p>

<pre><code class="r">read.sql
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-16" style="background:;">
  <hgroup>
    <h2>The long view</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Don&#39;t reinvent the wheel</li>
<li>Functional programming</li>
<li>Testing your code</li>
<li>Writing packages</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Don&#39;t reinvent the wheel</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Your problem is not unique!</li>
<li>Your first port of call should be google (mine is).</li>
<li>Defining your problem is a skill.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Functional programming</h2>
  </hgroup>
  <article data-timings="">
    <p><strong>D</strong>o not <strong>R</strong>epeat <strong>Y</strong>ourself </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Testing</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>RStudio</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-21" style="background:;">
  <hgroup>
    <h2>Working with objects and functions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>assignment</li>
<li>data types</li>
<li>the workspace</li>
<li>functions and arguments</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Assignment</h2>
  </hgroup>
  <article data-timings="">
    <p>Everything in R is an object</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-23" style="background:;">
  <hgroup>
    <h2>Loading data and getting libraries</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>loading data</li>
<li>libraries</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="intermezzo" id="slide-24" style="background:;">
  <hgroup>
    <h2>Rstudio Projects and getting help</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Rstudio projects</li>
<li>Getting help in R</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h3>Base R console</h3>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h3>RStudio</h3>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/r_studio.png" style="display: block; height: 550px;"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Installing and using packages</h2>
  </hgroup>
  <article data-timings="">
    <p>One of the strengths of R is that there are literally thousands of packages available for you to extend the core capabilities of the R statistical environment. </p>

<pre><code class="r"># This installs the wordcloud package from CRAN
install.packages(&#39;wordcloud&#39;)
</code></pre>

<h2>Helping yourself</h2>

<p>There is a plethora of general help books available:
<br /></p>

<div style="display: block; margin-left: auto; margin-right: auto">
<img src="assets/img/copy-paste.jpg" height="420">
<img src="assets/img/trying.jpg" height="420">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Helping yourself</h2>
  </hgroup>
  <article data-timings="">
    <p>If that doesn&#39;t work:
<br /></p>

<div style="display: block; margin-left: auto; margin-right: auto">
<img src="assets/img/google.jpg" height="420">
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Why R?'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Getting started on a project'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Setting up a project'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Dependency control'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Dependency control'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Dependency control'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Reproducibility and Clarity'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Reproducibility and Clarity'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Reproducibility and Clarity'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Walking through a project'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='The RStudio environment'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='The RStudio environment'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Getting data in'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Getting data in'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='The long view'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Don&#39;t reinvent the wheel'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Functional programming'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Testing'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='RStudio'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Working with objects and functions'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Assignment'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Loading data and getting libraries'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Rstudio Projects and getting help'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Base R console'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='RStudio'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Installing and using packages'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Helping yourself'>
         28
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>